{% extends '@AkyosCore/layout.html.twig' %}

{% block title %}Editer {{ title }}{% endblock %}

{% block page_content %}

    {% include '@AkyosCore/crud/elements/_header.html.twig' with {'title': 'Éditer '~title, 'parameters': (parameters is defined ? parameters : {}), 'button_back': true, 'header_route' : header_route is defined ? header_route : null} %}

    <div class="content" data-type="{{ entity is defined ? entity : '' }}"
         data-typeid="{{ el.id is defined ? el.id : '' }}">
        <div class="row">
            <div class="col-md-10">
                <ul class="nav nav-tabs" id="tabs" role="tablist">
                    {# GENERAL #}
                    <li class="nav-item">
                        <a class="nav-link {{ app.request.get('tab') == 'general' or app.request.get('tab') == null ? 'active' : '' }}"
                           id="general-tab" data-toggle="tab" href="#general" role="tab" aria-controls="general"
                           aria-selected="true">Général</a>
                    </li>
                    {# OPTIONS #}
                    <li class="nav-item">
                        <a class="nav-link" id="options-tab" data-toggle="tab" href="#options" role="tab"
                           aria-controls="options" aria-selected="true">Options</a>
                    </li>
                </ul>

                <div class="tab-content" id="tabsContent">
                    {# GENERAL #}
                    <div class="tab-pane fade {{ app.request.get('tab') == 'general' or app.request.get('tab') == null ? 'show active' : '' }}"
                         id="general" role="tabpanel" aria-labelledby="general-tab">
                        {{ form_start(form, {'action' : path(route~'_edit', {'id': el.id})}) }}
                        {{ form_widget(form) }}
                        {{ form_end(form) }}
                    </div>
                    {# OPTIONS #}
                    <div class="tab-pane fade" id="options" role="tabpanel" aria-labelledby="options-tab">
                        {{ include('@AkyosCore/crud/_delete_form.html.twig') }}
                    </div>
                </div>
            </div>
            <div class="col-md-2">
                {% include '@AkyosCore/crud/elements/_sidebar.html.twig' %}
            </div>
        </div>
    </div>
{% endblock %}
